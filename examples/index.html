<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="utf-8" />
  <title>Demo</title>
  <link rel="stylesheet" href="css/index.css"/>
</head>

<body>
  <div id="container">
    <!-- CONTENT HERE -->
  </div>

  <script src="seajs/sea.js"></script>
  <script src="config.js"></script>
  <script>
  seajs.use(['index'], function(Tree) {
   var data={
     "code": 0,
     "message": "ok",
     "list": [
          {
             "id": "2",
             "parent_id": "1",
             "name": "\u5e74\u7ea7\u7ec4",
             "read": 0,
             "unread": 9,
             "if": 1,
             "sub": [
               {
                 "id": "3",
                 "parent_id": "2",
                 "name": "\u4e00\u5e74\u7ea7",
                 "read": 0,
                 "unread": 6,
                 "if": 1,
                 "sub": [
                   {
                     "id": "3",
                     "parent_id": "2",
                     "name": "\u4e00\u5e74\u7ea7",
                     "read": 0,
                     "unread": 6,
                     "if": 1,
                     "sub": []
                   }
                 ]
               },
               {
                 "id": "4",
                 "parent_id": "2",
                 "name": "\u4e8c\u5e74\u7ea7",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "5",
                 "parent_id": "2",
                 "name": "\u4e09\u5e74\u7ea7",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "6",
                 "parent_id": "2",
                 "name": "\u56db\u5e74\u7ea7",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "7",
                 "parent_id": "2",
                 "name": "\u4e94\u5e74\u7ea7",
                 "read": 0,
                 "unread": 1,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "8",
                 "parent_id": "2",
                 "name": "\u516d\u5e74\u7ea7",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "26",
                 "parent_id": "2",
                 "name": "\u4e03\u5e74\u7ea7",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "27",
                 "parent_id": "2",
                 "name": "\u516b\u5e74\u7ea7",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "28",
                 "parent_id": "2",
                 "name": "\u4e5d\u5e74\u7ea7",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               }
             ]
           },
          {
             "id": "9",
             "parent_id": "1",
             "name": "\u5b66\u79d1\u7ec4",
             "read": 11,
             "unread": 75,
             "if": 0,
             "sub": [
               {
                 "id": "10",
                 "parent_id": "9",
                 "name": "\u8bed\u6587\u6559\u7814\u7ec4",
                 "read": 1,
                 "unread": 0,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "11",
                 "parent_id": "9",
                 "name": "\u6570\u5b66\u6559\u7814\u7ec4",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "12",
                 "parent_id": "9",
                 "name": "\u82f1\u8bed\u6559\u7814\u7ec4",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "13",
                 "parent_id": "9",
                 "name": "\u7efc\u5408\u6559\u7814\u7ec4",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "29",
                 "parent_id": "9",
                 "name": "\u8bed\u6587\u7ec4",
                 "read": 4,
                 "unread": 17,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "30",
                 "parent_id": "9",
                 "name": "\u6570\u5b66\u7ec4",
                 "read": 4,
                 "unread": 21,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "32",
                 "parent_id": "9",
                 "name": "\u7269\u7406\u7ec4",
                 "read": 1,
                 "unread": 4,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "33",
                 "parent_id": "9",
                 "name": "\u5316\u5b66\u7ec4",
                 "read": 1,
                 "unread": 12,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "34",
                 "parent_id": "9",
                 "name": "\u7efc\u5408\u7ec4",
                 "read": 0,
                 "unread": 0,
                 "if": 0,
                 "sub": []
               },
               {
                 "id": "342",
                 "parent_id": "9",
                 "name": "\u97f3\u4e50\u7ec4",
                 "read": 0,
                 "unread": 6,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "343",
                 "parent_id": "9",
                 "name": "\u6559\u7814\u5ba4",
                 "read": 0,
                 "unread": 6,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "344",
                 "parent_id": "9",
                 "name": "\u4f53\u80b2\u7ec4",
                 "read": 0,
                 "unread": 5,
                 "if": 1,
                 "sub": []
               },
               {
                 "id": "345",
                 "parent_id": "9",
                 "name": "\u6821\u9886\u5bfc",
                 "read": 0,
                 "unread": 4,
                 "if": 1,
                 "sub": []
               }
             ]
           },
           {
             "id": "14",
             "parent_id": "1",
             "name": "\u5fb7\u80b2\u5904",
             "read": 0,
             "unread": 0,
             "if": 0,
             "sub": []
           },
           {
             "id": "15",
             "parent_id": "1",
             "name": "\u7535\u6559\u4e2d\u5fc3",
             "read": 0,
             "unread": 0,
             "if": 0,
             "sub": []
           },
           {
             "id": "35",
             "parent_id": "1",
             "name": "\u6559\u7814\u7ec4",
             "read": 0,
             "unread": 1,
             "if": 1,
             "sub": []
           }
         ],
     "class_list": []
   }
    var unreadHtml = '', readHtml = '';
    data.list.forEach(function(item,index,arr){
     item.parentId=item.parent_id;
      var o=new Tree(item);
      readHtml += o.readHtml;
      unreadHtml += o.unreadHtml;
    });

   document.getElementById('container').innerHTML=readHtml;

  });
  </script>
</body>

</html>
